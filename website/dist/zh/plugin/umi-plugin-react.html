<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>umi-plugin-react | UmiJS</title>
    <meta name="description" content="ğŸŒ‹ å¯æ’æ‹”çš„ä¼ä¸šçº§ react åº”ç”¨æ¡†æ¶ã€‚">
    
    
    <link rel="preload" href="/assets/css/0.styles.e51ba91e.css" as="style"><link rel="preload" href="/assets/js/app.f1f3a504.js" as="script"><link rel="preload" href="/assets/js/54.5241fcb8.js" as="script"><link rel="preload" href="/assets/js/2.e8061a7b.js" as="script"><link rel="prefetch" href="/assets/js/10.d0999deb.js"><link rel="prefetch" href="/assets/js/11.41a70aae.js"><link rel="prefetch" href="/assets/js/12.c852398a.js"><link rel="prefetch" href="/assets/js/13.12810ec6.js"><link rel="prefetch" href="/assets/js/14.72e559f6.js"><link rel="prefetch" href="/assets/js/15.4ae085f5.js"><link rel="prefetch" href="/assets/js/16.274a7ee4.js"><link rel="prefetch" href="/assets/js/17.5742bcbf.js"><link rel="prefetch" href="/assets/js/18.636cb423.js"><link rel="prefetch" href="/assets/js/19.4554d571.js"><link rel="prefetch" href="/assets/js/20.a6343e64.js"><link rel="prefetch" href="/assets/js/21.81a66bd2.js"><link rel="prefetch" href="/assets/js/22.54732e48.js"><link rel="prefetch" href="/assets/js/23.8e01ab11.js"><link rel="prefetch" href="/assets/js/24.e24b9f96.js"><link rel="prefetch" href="/assets/js/25.b8ab9178.js"><link rel="prefetch" href="/assets/js/26.b16f4780.js"><link rel="prefetch" href="/assets/js/27.d873a625.js"><link rel="prefetch" href="/assets/js/28.9fd2cebd.js"><link rel="prefetch" href="/assets/js/29.4dab3ea0.js"><link rel="prefetch" href="/assets/js/3.1ef4404a.js"><link rel="prefetch" href="/assets/js/30.67cc5009.js"><link rel="prefetch" href="/assets/js/31.5ed73f17.js"><link rel="prefetch" href="/assets/js/32.1f14e5dd.js"><link rel="prefetch" href="/assets/js/33.a462a28b.js"><link rel="prefetch" href="/assets/js/34.9cbf3091.js"><link rel="prefetch" href="/assets/js/35.864f897f.js"><link rel="prefetch" href="/assets/js/36.9d52c6a5.js"><link rel="prefetch" href="/assets/js/37.c400585c.js"><link rel="prefetch" href="/assets/js/38.e92ba6a2.js"><link rel="prefetch" href="/assets/js/39.67e08701.js"><link rel="prefetch" href="/assets/js/4.917b607f.js"><link rel="prefetch" href="/assets/js/40.7bf9ba43.js"><link rel="prefetch" href="/assets/js/41.74daff44.js"><link rel="prefetch" href="/assets/js/42.e739a291.js"><link rel="prefetch" href="/assets/js/43.45a5fce4.js"><link rel="prefetch" href="/assets/js/44.700d5f25.js"><link rel="prefetch" href="/assets/js/45.71102ed3.js"><link rel="prefetch" href="/assets/js/46.67d9fc35.js"><link rel="prefetch" href="/assets/js/47.e5ca5d17.js"><link rel="prefetch" href="/assets/js/48.ceac321c.js"><link rel="prefetch" href="/assets/js/49.b2171711.js"><link rel="prefetch" href="/assets/js/5.e89d136a.js"><link rel="prefetch" href="/assets/js/50.5b11c3fd.js"><link rel="prefetch" href="/assets/js/51.cdf75c59.js"><link rel="prefetch" href="/assets/js/52.c5258431.js"><link rel="prefetch" href="/assets/js/53.95e4ffa9.js"><link rel="prefetch" href="/assets/js/55.083d58a3.js"><link rel="prefetch" href="/assets/js/6.0a235905.js"><link rel="prefetch" href="/assets/js/7.bc5ec7a2.js"><link rel="prefetch" href="/assets/js/8.8c2c97ac.js"><link rel="prefetch" href="/assets/js/9.dd106043.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e51ba91e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><!----> <span class="site-name">UmiJS</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/guide/" class="nav-link">æŒ‡å—</a></div><div class="nav-item"><a href="/zh/config/" class="nav-link">é…ç½®</a></div><div class="nav-item"><a href="/zh/api/" class="nav-link">API</a></div><div class="nav-item"><a href="/zh/plugin/" class="nav-link router-link-active">æ’ä»¶</a></div><div class="nav-item"><a href="https://v1.umijs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/umijs/umi/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‘å¸ƒæ—¥å¿—
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugin/umi-plugin-react.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh/plugin/umi-plugin-react.html" class="nav-link router-link-exact-active router-link-active">ç®€ä½“ä¸­æ–‡</a></li></ul></div></div> <a href="https://github.com/umijs/umi" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/guide/" class="nav-link">æŒ‡å—</a></div><div class="nav-item"><a href="/zh/config/" class="nav-link">é…ç½®</a></div><div class="nav-item"><a href="/zh/api/" class="nav-link">API</a></div><div class="nav-item"><a href="/zh/plugin/" class="nav-link router-link-active">æ’ä»¶</a></div><div class="nav-item"><a href="https://v1.umijs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/umijs/umi/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‘å¸ƒæ—¥å¿—
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugin/umi-plugin-react.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh/plugin/umi-plugin-react.html" class="nav-link router-link-exact-active router-link-active">ç®€ä½“ä¸­æ–‡</a></li></ul></div></div> <a href="https://github.com/umijs/umi" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>æ’ä»¶</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/zh/plugin/" class="sidebar-link">æ’ä»¶</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>å®˜æ–¹æ’ä»¶</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/zh/plugin/umi-plugin-react.html" class="active sidebar-link">umi-plugin-react</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#å®‰è£…" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#ä½¿ç”¨" class="sidebar-link">ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#é…ç½®é¡¹" class="sidebar-link">é…ç½®é¡¹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#dva" class="sidebar-link">dva</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#antd" class="sidebar-link">antd</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#routes" class="sidebar-link">routes</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#polyfills-å·²åºŸå¼ƒ" class="sidebar-link">polyfills (å·²åºŸå¼ƒ)</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#locale" class="sidebar-link">locale</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#library" class="sidebar-link">library</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#dynamicimport" class="sidebar-link">dynamicImport</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#dll" class="sidebar-link">dll</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#hardsource" class="sidebar-link">hardSource</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#pwa" class="sidebar-link">pwa</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#hd" class="sidebar-link">hd</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#fastclick" class="sidebar-link">fastClick</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#title" class="sidebar-link">title</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#chunks" class="sidebar-link">chunks</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#scripts" class="sidebar-link">scripts</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#headscripts" class="sidebar-link">headScripts</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#metas" class="sidebar-link">metas</a></li><li class="sidebar-sub-header"><a href="/zh/plugin/umi-plugin-react.html#links" class="sidebar-link">links</a></li></ul></li></ul></li><li><a href="/zh/plugin/umi-plugin-prerender.html" class="sidebar-link">@umijs/plugin-prerender</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>æ’ä»¶å¼€å‘</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/zh/plugin/develop.html" class="sidebar-link">æ’ä»¶å¼€å‘</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="umi-plugin-react"><a href="#umi-plugin-react" aria-hidden="true" class="header-anchor">#</a> umi-plugin-react</h1> <p>è¿™æ˜¯å®˜æ–¹å°è£…çš„ä¸€ä¸ªæ’ä»¶é›†ï¼ŒåŒ…å« 18 ä¸ªå¸¸ç”¨çš„è¿›é˜¶åŠŸèƒ½ã€‚</p> <h2 id="å®‰è£…"><a href="#å®‰è£…" aria-hidden="true" class="header-anchor">#</a> å®‰è£…</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">yarn</span> <span class="token function">add</span> umi-plugin-react --dev
</code></pre></div><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨</h2> <p>åœ¨ <code>.umirc.js</code> é‡Œé…ç½®ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'umi-plugin-react'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      dva<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        immer<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      antd<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      routes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        exclude<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token regex">/models\//</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      polyfills<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'ie9'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      locale<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      library<span class="token punctuation">:</span> <span class="token string">'react'</span><span class="token punctuation">,</span>
      dynamicImport<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        webpackChunkName<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        loadingComponent<span class="token punctuation">:</span> <span class="token string">'./components/Loading.js'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      dll<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        exclude<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      pwa<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      hd<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      fastClick<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      title<span class="token punctuation">:</span> <span class="token string">'default title'</span><span class="token punctuation">,</span>
      chunks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'vendor'</span><span class="token punctuation">,</span> <span class="token string">'umi'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      scripts<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> src<span class="token punctuation">:</span> <span class="token string">'http://cdn/a.js'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> src<span class="token punctuation">:</span> <span class="token string">'&lt;%= PUBLIC_PATH %&gt;a.js'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> content<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">alert('a');</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      headScripts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      metas<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> charset<span class="token punctuation">:</span> <span class="token string">'utf-8'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      links<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> rel<span class="token punctuation">:</span> <span class="token string">'stylesheet'</span><span class="token punctuation">,</span> href<span class="token punctuation">:</span> <span class="token string">'http://cdn/a.css'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="é…ç½®é¡¹"><a href="#é…ç½®é¡¹" aria-hidden="true" class="header-anchor">#</a> é…ç½®é¡¹</h2> <p>æ‰€æœ‰åŠŸèƒ½é»˜è®¤å…³é—­ï¼Œæœ‰çœŸå€¼é…ç½®æ‰ä¼šå¼€å¯ã€‚</p> <h3 id="dva"><a href="#dva" aria-hidden="true" class="header-anchor">#</a> dva</h3> <ul><li>ç±»å‹ï¼š<code>Object</code></li></ul> <p>åŸºäº <a href="https://github.com/umijs/umi/tree/master/packages/umi-plugin-dva" target="_blank" rel="noopener noreferrer">umi-plugin-dva<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å®ç°ï¼ŒåŠŸèƒ½è¯¦è§ <a href="/zh/guide/with-dva.html">å’Œ dva ä¸€èµ·ç”¨</a>ã€‚</p> <p>é…ç½®é¡¹åŒ…å«ï¼š</p> <ul><li><code>immer</code>ï¼Œæ˜¯å¦å¯ç”¨ <a href="https://github.com/dvajs/dva/tree/master/packages/dva-immer" target="_blank" rel="noopener noreferrer">dva-immer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>dynamicImport</code>ï¼Œæ˜¯å¦å¯ç”¨æŒ‰éœ€åŠ è½½ï¼Œé…ç½®é¡¹åŒ <a href="#dynamicImport">#dynamicImport</a>ï¼Œå¹¶ä¸”å¦‚æœåœ¨ <a href="#dynamicImport">#dynamicImport</a> æœ‰é…ç½®ï¼Œé…ç½®é¡¹ä¼šç»§æ‰¿åˆ° dva ä¸­</li> <li><code>hmr</code>ï¼Œæ˜¯å¦å¯ç”¨ dva çš„ hmr</li></ul> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>å¦‚æœé¡¹ç›®ä¸­æœ‰ dva ä¾èµ–ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨é¡¹ç›®ä¸­çš„ä¾èµ–ã€‚</p></div> <h3 id="antd"><a href="#antd" aria-hidden="true" class="header-anchor">#</a> antd</h3> <ul><li>ç±»å‹ï¼š<code>Boolean</code></li></ul> <p>å¯ç”¨åè‡ªåŠ¨é…ç½® <a href="https://github.com/ant-design/babel-plugin-import" target="_blank" rel="noopener noreferrer">babel-plugin-import<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å®ç° antd, antd-mobile å’Œ antd-pro çš„æŒ‰éœ€ç¼–è¯‘ï¼Œå¹¶ä¸”å†…ç½® antd, antd-mobile ä¾èµ–ï¼Œæ— éœ€æ‰‹åŠ¨åœ¨é¡¹ç›®ä¸­å®‰è£…ã€‚</p> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>å¦‚æœé¡¹ç›®ä¸­æœ‰ antd æˆ–è€… antd-mobile ä¾èµ–ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨é¡¹ç›®ä¸­çš„ä¾èµ–ã€‚</p></div> <h3 id="routes"><a href="#routes" aria-hidden="true" class="header-anchor">#</a> routes</h3> <ul><li>ç±»å‹ï¼š<code>Object</code></li></ul> <p>åŸºäº <a href="https://github.com/umijs/umi/tree/master/packages/umi-plugin-routes" target="_blank" rel="noopener noreferrer">umi-plugin-routes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å®ç°ï¼Œç”¨äºæ‰¹é‡ä¿®æ”¹è·¯ç”±ã€‚</p> <p>é…ç½®é¡¹åŒ…å«ï¼š</p> <ul><li><code>exclude</code>ï¼Œå€¼ä¸º <code>Array(RegExp)</code>ï¼Œç”¨äºå¿½ç•¥æŸäº›è·¯ç”±ï¼Œæ¯”å¦‚ä½¿ç”¨ dva åï¼Œé€šå¸¸éœ€è¦å¿½ç•¥ modelsã€componentsã€services ç­‰ç›®å½•</li> <li><code>update</code>, å€¼ä¸º <code>Function</code>ï¼Œç”¨äºæ›´æ–°è·¯ç”±</li></ul> <h3 id="polyfills-å·²åºŸå¼ƒ"><a href="#polyfills-å·²åºŸå¼ƒ" aria-hidden="true" class="header-anchor">#</a> polyfills (å·²åºŸå¼ƒ)</h3> <ul><li>ç±»å‹ï¼š<code>Array(String)</code></li></ul> <blockquote><p>è¯·æ”¹ç”¨ <a href="https://umijs.org/zh/config/#targets" target="_blank" rel="noopener noreferrer">config.targets<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>åŸºäº <a href="https://github.com/umijs/umi/tree/master/packages/umi-plugin-polyfills" target="_blank" rel="noopener noreferrer">umi-plugin-polyfills<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å®ç°ï¼Œç”¨äºåŠ å„ç§è¡¥ä¸ã€‚</p> <p>ç›®å‰æ”¯æŒé…ç½® <code>['ie9']</code>ã€<code>['ie10']</code> æˆ– <code>['ie11']</code>ï¼Œå®ç°ä¸€é”®å…¼å®¹ã€‚</p> <h3 id="locale"><a href="#locale" aria-hidden="true" class="header-anchor">#</a> locale</h3> <ul><li>ç±»å‹ï¼š<code>Object</code></li></ul> <p>åŸºäº <a href="https://github.com/umijs/umi/tree/master/packages/umi-plugin-locale" target="_blank" rel="noopener noreferrer">umi-plugin-locale<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å’Œ <a href="https://github.com/yahoo/react-intl" target="_blank" rel="noopener noreferrer">react-intl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å®ç°ï¼Œç”¨äºè§£å†³ i18n é—®é¢˜ã€‚</p> <p>é…ç½®é¡¹åŒ…å«ï¼š</p> <ul><li><code>default: 'zh-CN'</code>, // default zh-CN</li> <li><code>baseNavigator: true</code>, // default true, when it is true, will use <code>navigator.language</code> overwrite default</li> <li><code>antd: true</code>, // use antd, default is true</li></ul> <h3 id="library"><a href="#library" aria-hidden="true" class="header-anchor">#</a> library</h3> <ul><li>ç±»å‹ï¼š<code>String</code></li></ul> <p>å¯èƒ½åˆ‡æ¢åº•å±‚åº“ä¸º preact æˆ– reactã€‚</p> <h3 id="dynamicimport"><a href="#dynamicimport" aria-hidden="true" class="header-anchor">#</a> dynamicImport</h3> <ul><li>ç±»å‹ï¼š<code>Object</code></li></ul> <p>å®ç°è·¯ç”±çº§çš„åŠ¨æ€åŠ è½½ï¼ˆcode splittingï¼‰ï¼Œå¯æŒ‰éœ€æŒ‡å®šå“ªä¸€çº§çš„æŒ‰éœ€åŠ è½½ã€‚</p> <p>é…ç½®é¡¹åŒ…å«ï¼š</p> <ul><li><code>webpackChunkName</code>ï¼Œæ˜¯å¦é€šè¿‡ webpackChunkName å®ç°æœ‰æ„ä¹‰çš„å¼‚æ­¥æ–‡ä»¶å</li> <li><code>loadingComponent</code>ï¼ŒæŒ‡å®šåŠ è½½æ—¶çš„ç»„ä»¶è·¯å¾„</li> <li><code>level</code>ï¼ŒæŒ‡å®šæŒ‰éœ€åŠ è½½çš„è·¯ç”±ç­‰çº§</li></ul> <h3 id="dll"><a href="#dll" aria-hidden="true" class="header-anchor">#</a> dll</h3> <ul><li>ç±»å‹ï¼š<code>Object</code></li></ul> <p>é€šè¿‡ webpack çš„ dll æ’ä»¶é¢„æ‰“åŒ…ä¸€ä»½ dll æ–‡ä»¶æ¥è¾¾åˆ°äºŒæ¬¡å¯åŠ¨æé€Ÿçš„ç›®çš„ã€‚</p> <p>é…ç½®é¡¹åŒ…å«ï¼š</p> <ul><li><code>include</code></li> <li><code>exclude</code></li></ul> <h3 id="hardsource"><a href="#hardsource" aria-hidden="true" class="header-anchor">#</a> hardSource</h3> <p>hardSource å·²ç»ä¸å¯ç”¨ï¼Œè¯·åœ¨é…ç½®æ–‡ä»¶ä¸­ç§»é™¤å®ƒã€‚</p> <h3 id="pwa"><a href="#pwa" aria-hidden="true" class="header-anchor">#</a> pwa</h3> <ul><li>ç±»å‹ï¼š<code>Object</code></li></ul> <p>å¼€å¯ PWA ç›¸å…³åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š</p> <ul><li>ç”Ÿæˆ <code>manifest.json</code>ï¼Œå¯¹äº WebManifest ä¸­å¼•ç”¨çš„ <code>icons</code> å›¾æ ‡ï¼Œå»ºè®®æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½• <code>public/</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œæœ€ç»ˆä¼šè¢«ç›´æ¥æ‹·è´åˆ°æ„å»ºç›®å½•ä¸­</li> <li>åœ¨ <code>PRODUCTION</code> æ¨¡å¼ä¸‹ç”Ÿæˆ Service Worker</li></ul> <p>é…ç½®é¡¹åŒ…å«ï¼š</p> <ul><li><code>manifestOptions</code> ç±»å‹ï¼š<code>Object</code>ï¼ŒåŒ…å«å¦‚ä¸‹å±æ€§:
<ul><li><code>srcPath</code> manifest çš„æ–‡ä»¶è·¯å¾„ï¼Œç±»å‹ï¼š<code>String</code>ï¼Œé»˜è®¤å€¼ä¸º <code>src/manifest.json</code>ï¼ˆå¦‚æœ <code>src</code> ä¸å­˜åœ¨ï¼Œä¸ºé¡¹ç›®æ ¹ç›®å½•ï¼‰</li></ul></li> <li><code>workboxPluginMode</code> Workbox æ¨¡å¼ï¼Œç±»å‹ï¼š<code>String</code>ï¼Œé»˜è®¤å€¼ä¸º <code>GenerateSW</code> å³ç”Ÿæˆå…¨æ–° Service Worker ï¼›ä¹Ÿå¯é€‰å¡« <code>InjectManifest</code> å³å‘å·²æœ‰ Service Worker æ³¨å…¥ä»£ç ï¼Œé€‚åˆéœ€è¦é…ç½®å¤æ‚ç¼“å­˜è§„åˆ™çš„åœºæ™¯</li> <li><code>workboxOptions</code> Workbox <a href="https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin#full_generatesw_config" target="_blank" rel="noopener noreferrer">é…ç½®å¯¹è±¡<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œå…¶ä¸­éƒ¨åˆ†é‡è¦å±æ€§å¦‚ä¸‹:
<ul><li><code>swSrc</code> ç±»å‹ï¼š<code>String</code>ï¼Œé»˜è®¤å€¼ä¸º <code>src/service-worker.js</code>ï¼Œåªæœ‰é€‰æ‹©äº† <code>InjectManifest</code> æ¨¡å¼æ‰éœ€è¦é…ç½®</li> <li><code>swDest</code> ç±»å‹ï¼š<code>String</code>ï¼Œæœ€ç»ˆè¾“å‡ºçš„æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸º <code>service-worker.js</code> æˆ–è€…ç­‰äº <code>swSrc</code> ä¸­çš„æ–‡ä»¶å</li> <li><code>importWorkboxFrom</code> ç±»å‹ï¼š<code>String</code>ï¼Œé»˜è®¤ä» Google CDN åŠ è½½ Workbox ä»£ç ï¼Œå¯é€‰å€¼ <code>'local'</code> é€‚åˆå›½å†…æ— æ³•è®¿é—®çš„ç¯å¢ƒ</li></ul></li></ul> <p>æ›´å¤šå…³äº Workbox çš„ä½¿ç”¨å¯ä»¥å‚è€ƒ<a href="https://developers.google.com/web/tools/workbox/" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <p>ä¸€ä¸ªå®Œæ•´ç¤ºä¾‹å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .umirc.js or config/config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  pwa<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    manifestOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      srcPath<span class="token punctuation">:</span> <span class="token string">'path/to/manifest.webmanifest'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    workboxPluginMode<span class="token punctuation">:</span> <span class="token string">'InjectManifest'</span><span class="token punctuation">,</span>
    workboxOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      importWorkboxFrom<span class="token punctuation">:</span> <span class="token string">'local'</span><span class="token punctuation">,</span>
      swSrc<span class="token punctuation">:</span> <span class="token string">'path/to/service-worker.js'</span><span class="token punctuation">,</span>
      swDest<span class="token punctuation">:</span> <span class="token string">'my-dest-sw.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å½“ Service Worker å‘ç”Ÿæ›´æ–°ä»¥åŠç½‘ç»œæ–­å¼€æ—¶ï¼Œä¼šè§¦å‘ç›¸åº”çš„ <code>CustomEvent</code>ã€‚
ä¾‹å¦‚å½“ Service Worker å®Œæˆæ›´æ–°æ—¶ï¼Œé€šå¸¸åº”ç”¨ä¼šå¼•å¯¼ç”¨æˆ·æ‰‹åŠ¨åˆ·æ–°é¡µé¢ï¼Œåœ¨ç»„ä»¶ä¸­å¯ä»¥ç›‘å¬ <code>sw.updated</code> äº‹ä»¶ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'sw.updated'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¼¹å‡ºæç¤ºï¼Œå¼•å¯¼ç”¨æˆ·åˆ·æ–°é¡µé¢</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å¦å¤–ï¼Œå½“ç½‘ç»œç¯å¢ƒå‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¹Ÿå¯ä»¥ç»™äºˆç”¨æˆ·æ˜¾å¼åé¦ˆï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'sw.offline'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç½®ç°æŸäº›ç»„ä»¶</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hd"><a href="#hd" aria-hidden="true" class="header-anchor">#</a> hd</h3> <ul><li>ç±»å‹ï¼š<code>Boolean</code></li></ul> <p>å¼€å¯é«˜æ¸…æ–¹æ¡ˆã€‚</p> <h3 id="fastclick"><a href="#fastclick" aria-hidden="true" class="header-anchor">#</a> fastClick</h3> <ul><li>ç±»å‹ï¼š<code>Boolean</code></li></ul> <p>å¯ç”¨ fastClickã€‚</p> <h3 id="title"><a href="#title" aria-hidden="true" class="header-anchor">#</a> title</h3> <ul><li>ç±»å‹ï¼š<code>String</code> æˆ–è€… <code>Object</code></li></ul> <p>å¼€å¯ title æ’ä»¶ï¼Œè®¾ç½® HTML titleï¼š</p> <p>é…ç½®é¡¹åŒ…å«ï¼š</p> <ul><li><code>defaultTitle: 'é»˜è®¤æ ‡é¢˜'</code>, // å¿…å¡«ï¼Œå½“é…ç½®é¡¹ä¸º String æ—¶ç›´æ¥é…ç½®é¡¹ä½œä¸º defaultTitle</li> <li><code>format: '{parent}{separator}{current}'</code>, // default {parent}{separator}{current}, title format</li> <li><code>separator: ' - '</code>, // default ' - '</li> <li><code>useLocale: true</code>, // default falseï¼Œæ˜¯å¦ä½¿ç”¨localeåšå¤šè¯­è¨€æ”¯æŒã€‚å¦‚æœé€‰<code>true</code>ï¼Œåˆ™ä¼šé€šè¿‡é…ç½®çš„<code>title</code>å±æ€§å»<code>locales/*.js</code>æ‰¾å¯¹åº”æ–‡å­—</li></ul> <p>å½“ title æ’ä»¶å¼€å¯åä½ å¯ä»¥åœ¨ routes é…ç½®æˆ–è€… pages ä¸‹çš„é¡µé¢ç»„ä»¶ä¸­é…ç½® titleã€‚</p> <p>æ¯”å¦‚ä½¿ç”¨é…ç½®å¼è·¯ç”±çš„æ—¶å€™å¦‚ä¸‹é…ç½®ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .umirc.js or config/config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/testpage'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token string">'./testpage'</span><span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> <span class="token string">'test page'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½¿ç”¨çº¦å®šå¼è·¯ç”±çš„æ—¶å€™åˆ™ç›´æ¥åœ¨é¡µé¢ç»„ä»¶ä¸­é…ç½®ï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">/**
 * title: test page
 */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">testpage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>åœ¨çº¦å®šå¼è·¯ç”±é‡Œï¼Œæ³¨é‡Šå¿…é¡»å†™åœ¨æ–‡ä»¶å¤´ï¼Œå¦åˆ™å°†ä¸è¢«è¯†åˆ«</p></blockquote> <h4 id="è‡ªå®šä¹‰æ¨¡æ¿document-ejs"><a href="#è‡ªå®šä¹‰æ¨¡æ¿document-ejs" aria-hidden="true" class="header-anchor">#</a> è‡ªå®šä¹‰æ¨¡æ¿document.ejs</h4> <p>å¦‚æœä½ ä½¿ç”¨äº†è‡ªå®šçš„<code>src/pages/document.ejs</code>ï¼Œä½ éœ€è¦åœ¨é‡Œé¢åŠ å…¥<code>&lt;title&gt;&lt;%= context.title %&gt;&lt;/title&gt;</code>ï¼Œä»¥ç¡®ä¿<code>title.defaultTitle</code>èƒ½æ­£å¸¸è¢«æ³¨å…¥åˆ°ç”Ÿæˆçš„<code>index.html</code>é‡Œ</p> <h3 id="chunks"><a href="#chunks" aria-hidden="true" class="header-anchor">#</a> chunks</h3> <ul><li>ç±»å‹ï¼š<code>Array(String)</code></li></ul> <p>é»˜è®¤æ˜¯ ['umi']ï¼Œå¯ä¿®æ”¹ï¼Œæ¯”å¦‚åšäº† vendors ä¾èµ–æå–ä¹‹åï¼Œä¼šéœ€è¦åœ¨ umi.js ä¹‹å‰åŠ è½½ vendors.js</p> <p>æ¯”å¦‚å¦‚ä¸‹é…ç½®ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .umirc.js or config/config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config<span class="token punctuation">,</span> <span class="token punctuation">{</span> webpack <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        minimize<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        splitChunks<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          chunks<span class="token punctuation">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
          minSize<span class="token punctuation">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
          minChunks<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          automaticNameDelimiter<span class="token punctuation">:</span> <span class="token string">'.'</span><span class="token punctuation">,</span>
          cacheGroups<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            vendor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              name<span class="token punctuation">:</span> <span class="token string">'vendors'</span><span class="token punctuation">,</span>
              <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> resource <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token operator">/</span><span class="token punctuation">[</span>\\<span class="token regex">/]node_modules[\\/]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              priority<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'umi-plugin-react'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        chunks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'vendors'</span><span class="token punctuation">,</span> <span class="token string">'umi'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="scripts"><a href="#scripts" aria-hidden="true" class="header-anchor">#</a> scripts</h3> <ul><li>ç±»å‹ï¼š<code>Array(Object)</code> æˆ–è€… <code>Array(String)</code> <span class="badge tip top" data-v-8b31a04a>1.8.0+</span></li></ul> <p>æ”¾åœ¨ <code>&lt;body&gt;</code> é‡Œï¼Œåœ¨ umi.js ä¹‹åï¼Œå¯ä½¿ç”¨ &lt;%= PUBLIC_PATH %&gt; æŒ‡å‘ publicPath</p> <h3 id="headscripts"><a href="#headscripts" aria-hidden="true" class="header-anchor">#</a> headScripts</h3> <ul><li>ç±»å‹ï¼š<code>Array(Object)</code> æˆ–è€… <code>Array(String)</code> <span class="badge tip top" data-v-8b31a04a>1.8.0+</span></li></ul> <p>æ”¾åœ¨ <code>&lt;head&gt;</code> é‡Œï¼Œåœ¨ umi.js ä¹‹å‰ï¼Œå¯ä½¿ç”¨ &lt;%= PUBLIC_PATH %&gt; æŒ‡å‘ publicPath</p> <h3 id="metas"><a href="#metas" aria-hidden="true" class="header-anchor">#</a> metas</h3> <ul><li>ç±»å‹ï¼š<code>Array(Object)</code></li></ul> <h3 id="links"><a href="#links" aria-hidden="true" class="header-anchor">#</a> links</h3> <ul><li>ç±»å‹ï¼š<code>Array(Object)</code></li></ul> <p>å¯ä½¿ç”¨ &lt;%= PUBLIC_PATH %&gt; æŒ‡å‘ publicPath</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/umijs/umi/edit/master/docs/zh/plugin/umi-plugin-react.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2019-8-10 4:23:43 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/zh/plugin/" class="prev router-link-active">
          æ’ä»¶
        </a></span> <span class="next"><a href="/zh/plugin/umi-plugin-prerender.html">
          @umijs/plugin-prerender
        </a>
        â†’
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.f1f3a504.js" defer></script><script src="/assets/js/54.5241fcb8.js" defer></script><script src="/assets/js/2.e8061a7b.js" defer></script>
  </body>
</html>
